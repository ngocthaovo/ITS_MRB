@model FEA_ITS_Site.Helper.MRB.FormNewAppointment


@using System.Web.UI.WebControls
@{
    Html.EnableClientValidation();
    Html.EnableUnobtrusiveJavaScript();

}
@using (Html.BeginForm())
{

    <table style="width: 100%; height: 285px;">
        <tr>
            <td style="width: 57px; padding-right: 5px;">
                @Html.DevExpress().Label(
                    settings =>
                    {
                        settings.AssociatedControlName = "RoomId";
                        settings.Text = "Id phong:";
                        settings.Width = Unit.Percentage(100);
                    }).GetHtml()
            </td>
            <td colspan="3" style="width: 100%">
                @Html.DevExpress().TextBox(
                    settings =>
                    {
                        settings.Name = "RoomId";
                        settings.ShowModelErrors = true;
                        settings.Width = Unit.Percentage(100);
                    }).Bind(Model.RoomId).GetHtml()
            </td>
        </tr>

        <tr>
            <td style="width: 57px; padding-right: 5px;">
                @Html.DevExpress().Label(
                    settings =>
                    {
                        settings.AssociatedControlName = "Subject";
                        settings.Text = "Subject:";
                        settings.Width = Unit.Percentage(100);
                    }).GetHtml()
            </td>
            <td colspan="3" style="width: 100%">
                @Html.DevExpress().TextBox(
                    settings =>
                    {
                        settings.Name = "Subject";
                        settings.ShowModelErrors = true;
                        settings.Width = Unit.Percentage(100);
                    }).Bind(Model.Subject).GetHtml()
            </td>
        </tr>
        <tr>
            <td style="width:57px;padding-right:5px">
                @Html.DevExpress().Label(
                  settings =>
                  {
                      settings.AssociatedControlName = "Description";
                      settings.Text = "Content";
                      settings.Width = Unit.Percentage(100);
                  }).GetHtml()
            </td>
            <td colspan="3" style="width:100px">
                @Html.DevExpress().Memo(
              settings =>
              {
                  settings.Name = "Description";
                  settings.Properties.Rows = 2;
                  settings.ShowModelErrors = true;
                  settings.Width = Unit.Percentage(100);
                  
              }).Bind(Model.Description).GetHtml()
            </td>
        </tr>
        <tr>
            <td style="width:57px;padding-right:5px">
                @Html.DevExpress().Label(
                  settings =>
                  {
                      settings.AssociatedControlName = "UserList";
                      settings.Text = "Danh sách khách mời";
                      settings.Width = Unit.Percentage(100);
                  }).GetHtml()
            </td>
            <td colspan="3">
                @Html.DevExpress().TokenBox(settings =>
               {
                   settings.Name = "UserList";
                   settings.Properties.TextField = "UserName";
                   settings.Properties.ValueField = "UserID";
                   settings.Properties.AllowCustomTokens = false;
                   settings.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
                   settings.Properties.IncrementalFilteringDelay = 600;
                   settings.Width = Unit.Percentage(50);
               }).BindList(ViewData["listUser"]).Bind(Model.UserList).GetHtml()


            </td>
        </tr>
        <tr>
            <td colspan="4">
                @Html.DevExpress().Label(
                        settings =>
                        {
                            settings.AssociatedControlName = "ItemId";
                            settings.Text = "Lý do:";
                            settings.Width = Unit.Percentage(100);
                        }).GetHtml()
                @Html.DevExpress().ComboBox(
                settings =>
                {
                    settings.Name = "comboBox1";
                    settings.Width = 180;
                    settings.SelectedIndex = 0;
                    settings.Properties.DisplayFormatString = " {0}";
                    settings.Properties.ValueType = typeof(string);
                    settings.Properties.Items.Add("Trai cay");
                    settings.Properties.Items.Add("Nuoc suoi");
                    settings.Properties.Items.Add("Banh");
                }
            ).Bind(Model.ItemId).GetHtml()
            </td>
        </tr>
        <tr>
                <td colspan="4">
                    @Html.DevExpress().Label(
                        settings =>
                        {
                            settings.AssociatedControlName = "ItemList";
                            settings.Text = "Thực phẩm:";
                            settings.Width = Unit.Percentage(100);
                        }).GetHtml()
                    @Html.DevExpress().Memo(
                        settings =>
                        {
                            settings.Name = "ItemList";
                            settings.Properties.Rows = 2;
                            settings.ShowModelErrors = true;
                            settings.Width = Unit.Percentage(100);
                        }).Bind(Model.ItemList).GetHtml()
                </td>
            </tr>
        <tr>
            <td style="white-space: nowrap; padding-right: 5px;">
                @Html.DevExpress().Label(
                    settings =>
                    {
                        settings.AssociatedControlName = "StartTime";
                        settings.Text = "Start time:";
                        settings.Width = Unit.Percentage(100);
                    }).GetHtml()
            </td>
            <td colspan="3">
                @Html.DevExpress().DateEdit(
                    settings =>
                    {
                        settings.Name = "StartTime";
                        settings.Properties.EditFormat = EditFormat.DateTime;
                        settings.ShowModelErrors = true;
                        settings.Width = Unit.Percentage(100);
                        settings.ClientEnabled = false;
                    }).Bind(Model.StartTime).GetHtml()
            </td>
        </tr>
        <tr>
            <td style="white-space: nowrap; padding-right: 5px;">
                @Html.DevExpress().Label(
                    settings =>
                    {
                        settings.AssociatedControlName = "EndTime";
                        settings.Text = "End time:";
                        settings.Width = Unit.Percentage(100);
                    }).GetHtml()
            </td>
            <td colspan="3">
                @Html.DevExpress().DateEdit(
                    settings =>
                    {
                        settings.Name = "EndTime";
                        settings.Properties.EditFormat = EditFormat.DateTime;
                        settings.ShowModelErrors = true;
                        settings.Width = Unit.Percentage(100);
                        settings.ClientEnabled = false;
                    }).Bind(Model.EndTime).GetHtml()
            </td>
        </tr>

        <tr>
            <td colspan="4">
                @Html.DevExpress().Label(
                    settings =>
                    {
                        settings.AssociatedControlName = "UserList";
                        settings.Text = "Contact information:";
                        settings.Width = Unit.Percentage(100);
                    }).GetHtml()
            </td>
        </tr>
        @*<tr>
            <td colspan="4">
                @Html.DevExpress().Memo(
                    settings =>
                    {
                        settings.Name = "UserList";
                        settings.Properties.Rows = 3;
                        settings.ShowModelErrors = true;
                        settings.Width = Unit.Percentage(100);
                    }).Bind(Model.UserList).GetHtml()
        </tr>*@
    </table>
    @Html.DevExpress().AppointmentRecurrenceForm(ViewBag.AppointmentRecurrenceFormSettings).GetHtml()
    <table cellpadding="0" cellspacing="0" style="width: 100%; height: 35px;">
        <tr>
            <td style="width: 100%; height: 100%;" align="center">
                <table style="height: 100%;">
                    <tr>
                        <td>
                            @Html.DevExpress().Button(
                                settings =>
                                {
                                    settings.Name = "Apply";
                                    settings.Text = "Đặt lịch";
                                    settings.Width = Unit.Pixel(91);
                                    settings.ClientSideEvents.Click = "OnAppointmentFormSave";
                                }).GetHtml()
                        </td>
                        <td style="padding: 0 4px;">
                            @Html.DevExpress().Button(
                                settings =>
                                {
                                    settings.Name = "Cancel";
                                    settings.Text = "Hủy";
                                    settings.ClientSideEvents.Click = "function(s, e){ scheduler.AppointmentFormCancel(); }";
                                    settings.Width = Unit.Pixel(91);
                                }).GetHtml()
                        </td>
                        <td>
                            @Html.DevExpress().Button(
                                settings =>
                                {
                                    settings.Name = "Delete";
                                    settings.Text = "Xóa";
                                    settings.Width = Unit.Pixel(91);
                                    settings.Enabled = ViewBag.DeleteButtonEnabled;
                                    settings.ClientSideEvents.Click = "function(s, e){ scheduler.AppointmentFormDelete(); }";
                                }).GetHtml()
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table cellpadding="0" cellspacing="0" style="width: 100%;">
        <tr>
            <td style="width: 100%;" align="left">
                @Html.DevExpress().SchedulerStatusInfo(
                    settings =>
                    {
                        settings.Name = "schedulerStatusInfo";
                        settings.Priority = 1;
                        settings.SchedulerName = "scheduler";
                    }).GetHtml()
            </td>
        </tr>
    </table>
}